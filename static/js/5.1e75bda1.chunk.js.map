{"version":3,"sources":["hoc/withAuthRedirect.js","components/users/user.module.css","components/users/Paginator.jsx","components/users/users.jsx","assets/img/rickyie.jpg","redux/user-selectors.js","components/users/usersContainer.jsx"],"names":["mapStateToPropsRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Paginator","pagesCount","Math","ceil","totalItemsCount","pageSize","pages","i","push","portionCount","portionSize","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","onClick","filter","p","map","className","currentPage","s","selectedPage","e","onPageChanged","Users","totalUsersCount","users","u","item","id","src","photos","small","followed","disabled","followingInProgress","some","unfollow","follow","name","status","getUsersPage","usersPage","getUsersPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","compose","setCurrentPage","getUsers","useEffect","pageNumber","toggleFollowingProgress"],"mappings":"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","file":"static/js/5.1e75bda1.chunk.js","sourcesContent":["import React from \"react\"\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\"\r\n\r\nlet mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if (!this.props.isAuth) return <Navigate to='/login' />\r\n\r\n            return <Component{...this.props} />\r\n        }\r\n    }\r\n\r\n   \r\n   let  ConnectedAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"user_item__TaIJx\",\"selectedPage\":\"user_selectedPage__2SRE_\"};","import React, { useState } from \"react\";\r\nimport s from './user.module.css';\r\n\r\n\r\nlet Paginator = (props) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / props.portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * props.portionSize;\r\n    \r\n    return ( \r\n    <div>\r\n        \r\n        { portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n            {pages.filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span className={ props.currentPage === p && s.selectedPage }\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 props.onPageChanged(p);\r\n                             }}>{p}</span>\r\n\r\n            })}\r\n            { portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n\r\n        </div>\r\n        )\r\n\r\n        \r\n};\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport s from './user.module.css';\r\nimport userPhoto from '../../assets/img/rickyie.jpg';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Paginator from \"./Paginator\";\r\n\r\n\r\n\r\nlet Users = (props) => {\r\n\r\n    return <div>\r\n        <Paginator currentPage={props.currentPage} onPageChanged={props.onPageChanged}\r\n            totalItemsCount={props.totalUsersCount} pageSize={props.pageSize} portionSize={props.portionSize} />\r\n\r\n        {\r\n            props.users.map(u => <div className={s.item}>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + u.id}>\r\n                            <img src={u.photos.small != null ? u.photos.small : userPhoto} />\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {u.followed\r\n                            ? <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                onClick={() => { props.unfollow(u.id); }}>Unfollow</button>\r\n                            : <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                onClick={() => { props.follow(u.id); }}>Follow</button>}\r\n\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <span>\r\n                        <div>{u.name}</div>\r\n                        <div>{u.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        {/* <div>{u.location.country}</div> */}\r\n                        {/* <div>{u.location.city}</div> */}\r\n                    </span>\r\n                </span>\r\n\r\n            </div>\r\n            )\r\n        }\r\n    </div>\r\n\r\n};\r\n\r\nexport default Users;","export default \"data:image/jpeg;base64,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\"","export const getUsersPage = (state) => {\r\n  return state.usersPage.users\r\n}\r\n\r\nexport const getUsersPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n  }\r\n\r\n  export const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n  }\r\n  \r\n  export const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n  }\r\n  \r\n  export const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n  }\r\n\r\n  export const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n  }\r\n\r\n  \r\n\r\n\r\n\r\n","import { connect } from \"react-redux\";\r\nimport { follow, unfollow, getUsers, setCurrentPage } from \"../../redux/users-reducer\";\r\nimport React from 'react';\r\nimport Users from \"./users\";\r\nimport Preloader from \"../common/preloader\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getTotalUsersCount, getUsersPage, getUsersPageSize } from \"../../redux/user-selectors\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst UsersContainer = (props) => {\r\n    useEffect(() => {\r\n        props.getUsers(props.currentPage, props.pageSize);\r\n    }, []);\r\n\r\n   const onPageChanged = (pageNumber) => {\r\n        props.setCurrentPage(pageNumber);\r\n        props.getUsers(pageNumber, props.pageSize);\r\n    }\r\n\r\n    return <>\r\n        {props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n            totalUsersCount={props.totalUsersCount}\r\n            pageSize={props.pageSize}\r\n            currentPage={props.currentPage}\r\n            onPageChanged={onPageChanged}\r\n            users={props.users}\r\n            follow={props.follow}\r\n            unfollow={props.unfollow}\r\n            toggleFollowingProgress={props.toggleFollowingProgress}\r\n            followingInProgress={props.followingInProgress}\r\n            portionSize={props.portionSize} />\r\n    </>\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersPage(state),\r\n        pageSize: getUsersPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: state.usersPage.portionSize\r\n    }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, {\r\n    follow, unfollow, setCurrentPage, getUsers\r\n}), withAuthRedirect)(UsersContainer);\r\n\r\n\r\n\r\n"],"sourceRoot":""}