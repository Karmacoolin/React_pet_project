{"version":3,"sources":["hoc/withAuthRedirect.js","components/Messages/Messages.module.css","components/Messages/DialogItem/DialogItem.jsx","components/Messages/Message/Message.jsx","components/Messages/Messages.jsx","components/Messages/MessagesContainer.jsx"],"names":["mapStateToPropsRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","DialogItem","className","s","dialog","id","name","Message","message","likesCount","maxLength20","maxLengthCreator","MessageReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","placeholder","validate","required","Messages","messagesPage","DialogElements","dialogData","map","el","MessagesElements","messageData","m","dialogs","ditems","values","addMess","newMessText","compose","dispatch","addMessActionCreator"],"mappings":"iOAIIA,EAA0B,SAACC,GAAD,MAAY,CACtCC,OAAQD,EAAME,KAAKD,SAIVE,EAAmB,SAACC,GAAe,IAEtCC,EAFqC,4JAGvC,WACI,OAAKC,KAAKC,MAAMN,OAET,cAACG,EAAD,eAAcE,KAAKC,QAFK,cAAC,IAAD,CAAUC,GAAG,eAJT,GAEXC,IAAML,WAUtC,OADqCM,YAAQX,EAARW,CAAiCL,K,oBCnB1EM,EAAOC,QAAU,CAAC,QAAU,0BAA0B,OAAS,yBAAyB,QAAU,0BAA0B,SAAW,2BAA2B,OAAS,2B,wJCW5JC,EATI,SAACN,GAChB,OACI,qBAAKO,UAAWC,IAAEC,OAAlB,SACI,cAAC,IAAD,CAASR,GAAI,YAAcD,EAAMU,GAAjC,SAAsCV,EAAMW,UCUzCC,EAbC,SAACZ,GAEb,OACI,sBAAKO,UAAWC,IAAEK,QAAlB,UACI,8BAAMb,EAAMa,UAEf,wCAAWb,EAAMc,kBCDpBC,EAAcC,YAAiB,IAyC/BC,EAAmBC,YAAU,CAC/BC,KAAM,WADeD,EAfJ,SAAClB,GAClB,OACI,uBAAMoB,SAAUpB,EAAMqB,aAAtB,UACI,cAACC,EAAA,EAAD,CAAOC,UAAWC,IAAUb,KAAK,cAAcc,YAAY,qBAC3DC,SAAU,CAACC,IAASZ,KAGpB,8BACI,kDAUDa,EA1CE,SAAC5B,GACd,IAIIP,EAAQO,EAAM6B,aACdC,EAAiBrC,EAAMsC,WAAWC,KAAI,SAAAC,GAAE,OAAI,cAAC,EAAD,CAAYtB,KAAMsB,EAAGtB,KAAMD,GAAIuB,EAAGvB,QAC9EwB,EAAmBzC,EAAM0C,YAAYH,KAAI,SAAAI,GAAC,OAAI,cAAC,EAAD,CAASvB,QAASuB,EAAEvB,QAASC,WAAYsB,EAAEtB,gBAI7F,OACI,sBAAKP,UAAWC,IAAE6B,QAAlB,UACI,qBAAK9B,UAAWC,IAAE8B,OAAlB,SACKR,IAGL,gCAAOI,EACH,cAACjB,EAAD,CAAkBG,SAjBV,SAACmB,GACjBvC,EAAMwC,QAAQD,EAAOE,gBAejB,WCJGC,sBACXvC,aAlBkB,SAACV,GACnB,MAAO,CACHoC,aAAcpC,EAAMoC,iBAMH,SAACc,GACtB,MAAO,CAEHH,QAAS,SAACC,GAAkBE,EAASC,YAAqBH,SAQ9D7C,IAFW8C,CAGbd","file":"static/js/4.96079cc7.chunk.js","sourcesContent":["import React from \"react\"\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\"\r\n\r\nlet mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if (!this.props.isAuth) return <Navigate to='/login' />\r\n\r\n            return <Component{...this.props} />\r\n        }\r\n    }\r\n\r\n   \r\n   let  ConnectedAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Messages_dialogs__3_9z1\",\"ditems\":\"Messages_ditems__U9WdB\",\"message\":\"Messages_message__-m1Aa\",\"message2\":\"Messages_message2__3mjWT\",\"dialog\":\"Messages_dialog__1OHaI\"};","import s from './../Messages.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogItem = (props) => {\r\n    return (\r\n        <div className={s.dialog}>\r\n            <NavLink to={\"/dialogs/\" + props.id}>{props.name}</NavLink>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default DialogItem;","import s from './../Messages.module.css';\r\n\r\n\r\nconst Message = (props) => {\r\n    \r\n    return (\r\n        <div className={s.message}>\r\n            <div>{props.message}</div>\r\n         \r\n         <div>like:{props.likesCount}</div>\r\n         \r\n         </div>\r\n         \r\n    )\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../utilits/validators/validators';\r\nimport { Textarea } from '../common/Form/Form';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport Message from './Message/Message';\r\nimport s from './Messages.module.css';\r\n\r\nconst maxLength20 = maxLengthCreator(20);\r\n\r\nconst Messages = (props) => {\r\n    let addNewMessage = (values) => {\r\n        props.addMess(values.newMessText);\r\n    }\r\n\r\n    let state = props.messagesPage;\r\n    let DialogElements = state.dialogData.map(el => <DialogItem name={el.name} id={el.id} />);\r\n    let MessagesElements = state.messageData.map(m => <Message message={m.message} likesCount={m.likesCount} />);\r\n\r\n\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.ditems}>\r\n                {DialogElements}\r\n            </div>\r\n\r\n            <div >{MessagesElements}\r\n                <MessageReduxForm onSubmit={addNewMessage} /> </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst MessagesForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} >\r\n            <Field component={Textarea} name='newMessText' placeholder='Enter your message' \r\n            validate={[required,maxLength20]}>\r\n\r\n            </Field>\r\n            <div>\r\n                <button >Send</button>\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\nconst MessageReduxForm = reduxForm({\r\n    form: 'Message'\r\n})(MessagesForm)\r\nexport default Messages;","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { addMessActionCreator } from '../../redux/messages-reducer';\r\nimport Messages from './Messages';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        messagesPage: state.messagesPage,\r\n        \r\n\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        \r\n        addMess: (newMessText) => { dispatch(addMessActionCreator(newMessText)); }\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default compose (\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Messages)"],"sourceRoot":""}