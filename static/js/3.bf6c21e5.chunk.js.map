{"version":3,"sources":["components/users/user.module.css","../node_modules/classnames/index.js","components/users/Paginator.jsx","components/users/users.jsx","redux/user-selectors.js","components/users/usersContainer.jsx"],"names":["module","exports","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","default","Paginator","props","pagesCount","Math","ceil","totalItemsCount","pageSize","pages","portionCount","portionSize","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","s","paginator","button","onClick","filter","p","map","cn","selectedPage","currentPage","pageNumber","e","onPageChanged","Users","totalUsersCount","users","u","item","to","id","src","photos","small","userPhoto","followed","fbutton","disabled","followingInProgress","some","unfollow","ubutton","follow","name","status","getUsersPage","state","usersPage","getUsersPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","compose","connect","setCurrentPage","getUsers","useEffect","toggleFollowingProgress"],"mappings":"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","file":"static/js/3.bf6c21e5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"user_item__TaIJx\",\"pageNumber\":\"user_pageNumber__CZfTT\",\"selectedPage\":\"user_selectedPage__2SRE_\",\"button\":\"user_button__3McTj\",\"ubutton\":\"user_ubutton__3wT_z\",\"fbutton\":\"user_fbutton__1vaU8\",\"paginator\":\"user_paginator__2z7Vq\"};","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React, { useState } from \"react\";\r\nimport s from './user.module.css';\r\nimport cn from 'classnames'\r\n\r\n\r\nlet Paginator = (props) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / props.portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * props.portionSize;\r\n    \r\n    return ( \r\n    <div className={s.paginator} >\r\n        \r\n        { portionNumber > 1 &&\r\n        <button className={s.button} onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n            {pages.filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span className={ cn({\r\n                    [s.selectedPage]: props.currentPage === p\r\n                }, s.pageNumber)}\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 props.onPageChanged(p);\r\n                             }}>{p}</span>\r\n\r\n            })}\r\n            { portionCount > portionNumber &&\r\n            <button className={s.button} onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n\r\n        </div>\r\n        )\r\n\r\n        \r\n};\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport s from './user.module.css';\r\nimport userPhoto from '../../assets/img/rickyie.jpg';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Paginator from \"./Paginator\";\r\n\r\n\r\n\r\nlet Users = (props) => {\r\n\r\n    return <div>\r\n        <Paginator currentPage={props.currentPage} onPageChanged={props.onPageChanged}\r\n            totalItemsCount={props.totalUsersCount} pageSize={props.pageSize} portionSize={props.portionSize} />\r\n\r\n        {\r\n            props.users.map(u => <div className={s.item}>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + u.id}>\r\n                            <img src={u.photos.small != null ? u.photos.small : userPhoto} />\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {u.followed\r\n                            ? <button className={s.fbutton}  disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                onClick={() => { props.unfollow(u.id); }}>Unfollow</button>\r\n                            : <button className={s.ubutton} disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                onClick={() => { props.follow(u.id); }}>Follow</button>}\r\n\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <span>\r\n                        <div>{u.name}</div>\r\n                        <div>{u.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        {/* <div>{u.location.country}</div> */}\r\n                        {/* <div>{u.location.city}</div> */}\r\n                    </span>\r\n                </span>\r\n\r\n            </div>\r\n            )\r\n        }\r\n    </div>\r\n\r\n};\r\n\r\nexport default Users;","export const getUsersPage = (state) => {\r\n  return state.usersPage.users\r\n}\r\n\r\nexport const getUsersPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n  }\r\n\r\n  export const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n  }\r\n  \r\n  export const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n  }\r\n  \r\n  export const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n  }\r\n\r\n  export const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n  }\r\n\r\n  \r\n\r\n\r\n\r\n","import { connect } from \"react-redux\";\r\nimport { follow, unfollow, getUsers, setCurrentPage } from \"../../redux/users-reducer\";\r\nimport React from 'react';\r\nimport Users from \"./users\";\r\nimport Preloader from \"../common/preloader\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getTotalUsersCount, getUsersPage, getUsersPageSize } from \"../../redux/user-selectors\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst UsersContainer = (props) => {\r\n    useEffect(() => {\r\n        props.getUsers(props.currentPage, props.pageSize);\r\n    }, []);\r\n\r\n   const onPageChanged = (pageNumber) => {\r\n        props.setCurrentPage(pageNumber);\r\n        props.getUsers(pageNumber, props.pageSize);\r\n    }\r\n\r\n    return <>\r\n        {props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n            totalUsersCount={props.totalUsersCount}\r\n            pageSize={props.pageSize}\r\n            currentPage={props.currentPage}\r\n            onPageChanged={onPageChanged}\r\n            users={props.users}\r\n            follow={props.follow}\r\n            unfollow={props.unfollow}\r\n            toggleFollowingProgress={props.toggleFollowingProgress}\r\n            followingInProgress={props.followingInProgress}\r\n            portionSize={props.portionSize} />\r\n    </>\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersPage(state),\r\n        pageSize: getUsersPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: state.usersPage.portionSize\r\n    }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, {\r\n    follow, unfollow, setCurrentPage, getUsers\r\n}))(UsersContainer);\r\n\r\n\r\n\r\n"],"sourceRoot":""}