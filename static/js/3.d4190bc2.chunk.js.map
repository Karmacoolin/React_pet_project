{"version":3,"sources":["hoc/withAuthRedirect.js","components/users/user.module.css","../node_modules/classnames/index.js","components/users/Paginator.jsx","components/users/users.jsx","redux/user-selectors.js","components/users/usersContainer.jsx"],"names":["mapStateToPropsRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","default","Paginator","pagesCount","Math","ceil","totalItemsCount","pageSize","pages","portionCount","portionSize","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","s","paginator","button","onClick","filter","p","map","cn","selectedPage","currentPage","pageNumber","e","onPageChanged","Users","totalUsersCount","users","u","item","id","src","photos","small","userPhoto","followed","fbutton","disabled","followingInProgress","some","unfollow","ubutton","follow","name","status","getUsersPage","usersPage","getUsersPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","compose","setCurrentPage","getUsers","useEffect","toggleFollowingProgress"],"mappings":"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","file":"static/js/3.d4190bc2.chunk.js","sourcesContent":["import React from \"react\"\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\"\r\n\r\nlet mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if (!this.props.isAuth) return <Navigate to='/login' />\r\n\r\n            return <Component{...this.props} />\r\n        }\r\n    }\r\n\r\n   \r\n   let  ConnectedAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"user_item__TaIJx\",\"pageNumber\":\"user_pageNumber__CZfTT\",\"selectedPage\":\"user_selectedPage__2SRE_\",\"button\":\"user_button__3McTj\",\"ubutton\":\"user_ubutton__3wT_z\",\"fbutton\":\"user_fbutton__1vaU8\",\"paginator\":\"user_paginator__2z7Vq\"};","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React, { useState } from \"react\";\r\nimport s from './user.module.css';\r\nimport cn from 'classnames'\r\n\r\n\r\nlet Paginator = (props) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / props.portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * props.portionSize;\r\n\r\n    return (\r\n        <div className={s.paginator} >\r\n\r\n            {portionNumber > 1 &&\r\n                <button className={s.button} onClick={() => { setPortionNumber(portionNumber - 1) }}>\r\n                    PREV</button>}\r\n\r\n            {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map((p) => {\r\n                    return <span className={cn({\r\n                        [s.selectedPage]: props.currentPage === p\r\n                    }, s.pageNumber)}\r\n                        key={p}\r\n                        onClick={(e) => {\r\n                            props.onPageChanged(p);\r\n                        }}>{p}</span>\r\n\r\n                })}\r\n            {portionCount > portionNumber &&\r\n                <button className={s.button} onClick={() => { setPortionNumber(portionNumber + 1) }}>\r\n                    NEXT</button>}\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport s from './user.module.css';\r\nimport userPhoto from '../../assets/img/rickyie.jpg';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Paginator from \"./Paginator\";\r\n\r\n\r\n\r\nlet Users = (props) => {\r\n\r\n    return <div>\r\n        <Paginator currentPage={props.currentPage} onPageChanged={props.onPageChanged}\r\n            totalItemsCount={props.totalUsersCount} pageSize={props.pageSize}\r\n            portionSize={props.portionSize} />\r\n\r\n        {\r\n            props.users.map(u => <div className={s.item}>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + u.id}>\r\n                            <img src={u.photos.small != null ? u.photos.small : userPhoto} />\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {u.followed\r\n                            ? <button className={s.fbutton}\r\n                                disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                onClick={() => { props.unfollow(u.id); }}>Unfollow</button>\r\n                            : <button className={s.ubutton}\r\n                                disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                onClick={() => { props.follow(u.id); }}>Follow</button>}\r\n\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <span>\r\n                        <div>{u.name}</div>\r\n                        <div>{u.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        {/* <div>{u.location.country}</div> */}\r\n                        {/* <div>{u.location.city}</div> */}\r\n                    </span>\r\n                </span>\r\n\r\n            </div>\r\n            )\r\n        }\r\n    </div>\r\n\r\n};\r\n\r\nexport default Users;","export const getUsersPage = (state) => {\r\n  return state.usersPage.users\r\n}\r\n\r\nexport const getUsersPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n  }\r\n\r\n  export const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n  }\r\n  \r\n  export const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n  }\r\n  \r\n  export const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n  }\r\n\r\n  export const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n  }\r\n\r\n  \r\n\r\n\r\n\r\n","import { connect } from \"react-redux\";\r\nimport { follow, unfollow, getUsers, setCurrentPage } from \"../../redux/users-reducer\";\r\nimport React from 'react';\r\nimport Users from \"./users\";\r\nimport Preloader from \"../common/preloader\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getTotalUsersCount, getUsersPage, getUsersPageSize } from \"../../redux/user-selectors\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst UsersContainer = (props) => {\r\n    useEffect(() => {\r\n        props.getUsers(props.currentPage, props.pageSize);\r\n    }, []);\r\n\r\n    const onPageChanged = (pageNumber) => {\r\n        props.setCurrentPage(pageNumber);\r\n        props.getUsers(pageNumber, props.pageSize);\r\n    }\r\n\r\n    return <>\r\n        {props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n            totalUsersCount={props.totalUsersCount}\r\n            pageSize={props.pageSize}\r\n            currentPage={props.currentPage}\r\n            onPageChanged={onPageChanged}\r\n            users={props.users}\r\n            follow={props.follow}\r\n            unfollow={props.unfollow}\r\n            toggleFollowingProgress={props.toggleFollowingProgress}\r\n            followingInProgress={props.followingInProgress}\r\n            portionSize={props.portionSize} />\r\n    </>\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersPage(state),\r\n        pageSize: getUsersPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: state.usersPage.portionSize\r\n    }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, {\r\n    follow, unfollow, setCurrentPage, getUsers\r\n}))(UsersContainer);\r\n\r\n\r\n\r\n"],"sourceRoot":""}